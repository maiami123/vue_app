"use strict";(self["webpackChunkvue_app"]=self["webpackChunkvue_app"]||[]).push([[170],{8598:function(e,t,n){function a(e){return{all:e=e||new Map,on:function(t,n){var a=e.get(t);a?a.push(n):e.set(t,[n])},off:function(t,n){var a=e.get(t);a&&(n?a.splice(a.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var a=e.get(t);a&&a.slice().map((function(e){e(n)})),(a=e.get("*"))&&a.slice().map((function(e){e(t,n)}))}}}n.d(t,{Z:function(){return o}});const c=a();var o=c},4556:function(e,t,n){n.d(t,{Z:function(){return v}});var a=n(3396);const c=e=>((0,a.dD)("data-v-1684c880"),e=e(),(0,a.Cn)(),e),o={class:"blank_content"},i=c((()=>(0,a._)("svg",{class:"icon","aria-hidden":"true"},[(0,a._)("use",{"xlink:href":"#icon-a-dakaidehezihuowu"})],-1))),l=(0,a.Uk)(" 空空如也 "),s=[i,l];function r(e,t,n,c,i,l){return(0,a.wg)(),(0,a.iD)("div",o,s)}var d={},u=n(89);const m=(0,u.Z)(d,[["render",r],["__scopeId","data-v-1684c880"]]);var v=m},4893:function(e,t,n){n.d(t,{Z:function(){return k}});var a=n(3396),c=n(7139);const o={class:"content_item"},i={class:"left"},l=["src"],s={class:"text"},r={class:"title"},d={class:"price"};function u(e,t,n,u,m,v){const h=(0,a.up)("van-checkbox"),k=(0,a.up)("van-icon"),p=(0,a.up)("van-stepper");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("div",i,[n.showCheckbox?((0,a.wg)(),(0,a.j4)(h,{key:0,name:n.item.id,"checked-color":"red"},null,8,["name"])):(0,a.kq)("",!0),(0,a._)("img",{src:n.item.pic},null,8,l),(0,a._)("div",s,[(0,a._)("div",r,(0,c.zw)(n.item.title),1),n.item.add&&n.showAdd?((0,a.wg)(),(0,a.j4)(k,{key:0,name:"add-o",onClick:t[0]||(t[0]=e=>n.addClick(n.item.id))})):((0,a.wg)(),(0,a.j4)(p,{key:1,modelValue:n.item.num,"onUpdate:modelValue":t[1]||(t[1]=e=>n.item.num=e),min:1,name:n.item.id,onChange:n.onChange},null,8,["modelValue","name","onChange"]))])]),(0,a._)("div",d,"￥"+(0,c.zw)(n.item.price),1)])}var m={props:["item","showAdd","addClick","onChange","showCheckbox"]},v=n(89);const h=(0,v.Z)(m,[["render",u],["__scopeId","data-v-20f06d48"]]);var k=h},8338:function(e,t,n){n.d(t,{Z:function(){return f}});var a=n(3396);const c={class:"footer"},o={class:"item"},i=(0,a.Uk)("首頁"),l={class:"item"},s=(0,a.Uk)("購物車"),r={class:"item"},d=(0,a.Uk)("訂單"),u={class:"item"},m=(0,a.Uk)("我的");function v(e,t,n,v,h,k){const p=(0,a.up)("van-icon"),f=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",c,[(0,a._)("div",o,[(0,a.Wm)(f,{to:"/home",class:"nav_item","active-class":"nav_color"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{name:"wap-home-o",size:"30"}),i])),_:1})]),(0,a._)("div",l,[(0,a.Wm)(f,{to:"/cart",class:"nav_item","active-class":"nav_color"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{name:"cart-o",size:"30"}),s])),_:1})]),(0,a._)("div",r,[(0,a.Wm)(f,{to:"/order",class:"nav_item","active-class":"nav_color"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{name:"balance-list-o",size:"30"}),d])),_:1})]),(0,a._)("div",u,[(0,a.Wm)(f,{to:"/mine",class:"nav_item","active-class":"nav_color"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{name:"user-o",size:"30"}),m])),_:1})])])}var h={},k=n(89);const p=(0,k.Z)(h,[["render",v],["__scopeId","data-v-22cb4bbe"]]);var f=p},6852:function(e,t,n){n.d(t,{Z:function(){return h}});var a=n(3396),c=n(7139);const o={class:"header"};function i(e,t,n,i,l,s){const r=(0,a.up)("van-icon");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a.Wm)(r,{name:"arrow-left",class:"icon",onClick:i.toBack},null,8,["onClick"]),(0,a._)("div",null,(0,c.zw)(n.title),1),n.edit?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"edit",onClick:t[0]||(t[0]=(...e)=>i.editClick&&i.editClick(...e))},(0,c.zw)(i.store.state.edit?"編輯":"完成"),1)):(0,a.kq)("",!0)])}n(6743);var l=n(4691),s=n(678),r=n(8598),d=n(65),u={props:["title","edit"],setup(){const e=(0,d.oR)(),t=(0,s.tv)(),n=()=>{t.back()},a=()=>{e.state.cartList.length?(e.commit("EDIT"),r.Z.emit("edit")):l.Z.fail("購物車空空如也")};return{toBack:n,editClick:a,store:e}}},m=n(89);const v=(0,m.Z)(u,[["render",i],["__scopeId","data-v-ffabb4a8"]]);var h=v},9170:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var a=n(3396);const c={class:"cart"};function o(e,t,n,o,i,l){const s=(0,a.up)("Header"),r=(0,a.up)("CartDatils"),d=(0,a.up)("Blank"),u=(0,a.up)("Footer");return(0,a.wg)(),(0,a.iD)("div",c,[(0,a.Wm)(s,{title:"購物車",edit:!0}),o.isShow?((0,a.wg)(),(0,a.j4)(r,{key:0,changeShow:o.changeShow},null,8,["changeShow"])):((0,a.wg)(),(0,a.j4)(d,{key:1})),(0,a.Wm)(u)])}var i=n(4556),l=n(8338),s=n(6852);const r={class:"cartDetails"},d={class:"content"},u=(0,a.Uk)(" 全選 "),m={key:1,class:"buy"},v={class:"left"},h=(0,a.Uk)(" 全選 ");function k(e,t,n,c,o,i){const l=(0,a.up)("FoodAdd"),s=(0,a.up)("van-checkbox-group"),k=(0,a.up)("van-checkbox"),p=(0,a.up)("van-submit-bar");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("div",d,[(0,a.Wm)(s,{modelValue:e.result,"onUpdate:modelValue":t[0]||(t[0]=t=>e.result=t),onChange:c.groupChange},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(c.store.state.cartList,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t},[(0,a.Wm)(l,{item:e,showCheckbox:!0,onChange:c.onChange},null,8,["item","onChange"])])))),128))])),_:1},8,["modelValue","onChange"])]),e.isDelete?((0,a.wg)(),(0,a.j4)(p,{key:0,price:100*c.allPrice,"button-text":"結算",onSubmit:c.onSubmit,class:"submit-all","button-color":"#ffc400"},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{modelValue:e.checked,"onUpdate:modelValue":t[1]||(t[1]=t=>e.checked=t),"checked-color":"#ffc400",onClick:c.choseAll},{default:(0,a.w5)((()=>[u])),_:1},8,["modelValue","onClick"])])),_:1},8,["price","onSubmit"])):((0,a.wg)(),(0,a.iD)("div",m,[(0,a._)("div",v,[(0,a.Wm)(k,{modelValue:e.checked,"onUpdate:modelValue":t[2]||(t[2]=t=>e.checked=t),"checked-color":"#ffc400",onClick:c.choseAll},{default:(0,a.w5)((()=>[h])),_:1},8,["modelValue","onClick"])]),(0,a._)("div",{class:"delete",onClick:t[3]||(t[3]=(...e)=>c.deleteClick&&c.deleteClick(...e))},"刪除")]))])}n(6743);var p=n(4691),f=(n(6699),n(4870)),g=n(65),w=n(678),_=n(4893),C=n(8598),b={components:{FoodAdd:_.Z},props:["changeShow"],setup(e){const t=(0,g.oR)(),n=(0,w.tv)();let c=(0,f.qj)({result:[],checked:!0,isDelete:!0});const o=()=>{c.result=t.state.cartList.map((e=>e.id))};(0,a.bv)((()=>{o()}));const i=(e,n)=>{t.state.cartList.map((t=>{t.id===n.name&&(t.num=e)}))},l=()=>{c.result.length!==t.state.cartList.length?o():c.result=[]},s=e=>t.state.cartList.filter((t=>2===e?c.result.includes(t.id):!c.result.includes(t.id))),r=()=>{0!==c.result.length?(t.commit("PAY",s(2)),n.push({path:"/createorder",query:{list:c.result}})):p.Z.fail("請選擇要結算的商品")},d=e=>{e.length===t.state.cartList.length?c.checked=!0:c.checked=!1,c.result=e},u=(0,a.Fl)((()=>{let e=s(2),t=0;return e.forEach((e=>{t+=e.num*e.price})),t}));C.Z.on("edit",(()=>{c.isDelete=!c.isDelete}));const m=()=>{c.result.length?(t.commit("DELETE",s(1)),c.result=[],0===t.state.cartList.length&&(t.commit("EDIT","delete"),e.changeShow())):p.Z.fail("請選擇要刪除的商品")};return{...(0,f.BK)(c),store:t,onChange:i,onSubmit:r,choseAll:l,groupChange:d,allPrice:u,deleteClick:m}}},D=n(89);const Z=(0,D.Z)(b,[["render",k],["__scopeId","data-v-74b04059"]]);var W=Z,S={components:{Footer:l.Z,Blank:i.Z,Header:s.Z,CartDatils:W},setup(){const e=(0,g.oR)();let t=(0,f.iH)(!0);const n=()=>{0===e.state.cartList.length&&(t.value=!1)},c=()=>{t.value=!1};return(0,a.bv)((()=>{n()})),{isShow:t,changeShow:c}}};const V=(0,D.Z)(S,[["render",o],["__scopeId","data-v-2dd2e54d"]]);var y=V}}]);
//# sourceMappingURL=170.86ce670b.js.map